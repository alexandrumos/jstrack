<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>jstrack</title>
    </head>
    <body onload="init()">
        <div id="map"></div>
        <div id="map2"></div>
        <script src="https://maps.googleapis.com/maps/api/js?libraries=geometry"></script>
        <script src="jstrack.js"></script>
        <script>
            function init() {
                var path = [
                    { lat: 45.665886, lng: 22.421422 },
                    { lat: 45.665136, lng: 22.417946 },
                    { lat: 45.665136, lng: 22.415843 },
                    { lat: 45.666846, lng: 22.411423 },
                    { lat: 45.666696, lng: 22.407818 },
                    { lat: 45.667295, lng: 22.405715 },
                    { lat: 45.666036, lng: 22.402754 },
                    { lat: 45.666336, lng: 22.401037 },
                    { lat: 45.666156, lng: 22.397990 },
                    { lat: 45.663876, lng: 22.391467 },
                    { lat: 45.662467, lng: 22.390008 },
                    { lat: 45.662617, lng: 22.388549 },
                    { lat: 45.662467, lng: 22.387090 }
                ];

                //var track = new jstrack('map');
                var track = new jstrack({
                    mapId: 'map',
                    width: 700,
                    height: 500,
                    snapToRoad: true,
                    panControl: false,
                    streetViewControl: false,
                    editable: false
                });
                //track.setCenter();
                track.setPathPoints(path);
                //track.setSnapToRoad(true);
                track.setSnapToRoadMode('walking');
                //track.setWidth(800);
                //track.setHeight(400);
                track.setPathChangeHandler(pathChanged);
                track.setPathEditable(true);

                /*var track2 = new jstrack({
                    mapId: 'map2',
                    width: 200,
                    height: 200
                });
                track2.setPathPoints(path);*/
            }

            function pathChanged(points) {
                //console.log('puncte:', points.length);
                console.log(JSON.stringify(points));
            }
        </script>
    </body>
</html>